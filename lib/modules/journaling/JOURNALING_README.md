# Journaling Module

## Overview
The Journaling Module provides users with a flexible system for reflective writing, thought processing, and pattern recognition related to sleep and overall well-being. Through regular journaling, users gain insights into factors affecting their sleep and can identify personalized improvement strategies.

## Core Principle
**Self-reflection enhances self-awareness and behavioral change.** Journaling helps users identify patterns, process emotions, reduce bedtime rumination, and make informed decisions about sleep habits. The practice of writing itself can be therapeutic and sleep-promoting.

## Key Features

### Standard Mode (Default)
- **Evening reflection prompt**:
  - Timing: 30-60 minutes before bed time
  - Duration: 5-10 minutes suggested
  - Guided prompts for easy entry
- Push notification reminder
- Simple text entry interface
- Pre-populated questions to answer

### Advanced Mode (Customizable)
- **Multiple entry methods**:
  - **In-app text editor**: Direct typing with formatting options
  - **Voice-to-text**: Speak journal entries
  - **Document upload**: Import text files or PDFs
  - **Photo capture**: Handwritten journal photos with OCR
  - **Hybrid entries**: Combine text, images, and voice
- **Flexible timing**:
  - Morning reflection
  - Midday check-ins
  - Evening wind-down
  - Pre-sleep processing
  - Anytime free journaling
- **Prompt customization**:
  - Choose from prompt library
  - Create custom prompts
  - Sequential prompt series
  - Randomized daily prompts
  - No prompt (free writing)

## Entry Methods

### In-App Text Editor
- Rich text formatting (bold, italic, lists)
- Auto-save functionality
- Word count and time tracking
- Mood tagging and rating scales
- Quick templates for common entries
- Search and filter past entries

### Voice-to-Text
- Real-time transcription
- Edit and refine after dictation
- Hands-free journaling option
- Useful for processing emotions verbally
- Timestamp marking

### Document Upload
- Support for .txt, .doc, .docx, .pdf
- Automatic text extraction
- Preserves formatting where possible
- Batch upload capability
- External writing tool integration

### Photo Capture (Handwritten Journals)
- Camera integration for journal photos
- **Optical Character Recognition (OCR)**:
  - Handwriting-to-text conversion
  - Multiple language support
  - Edit OCR results for accuracy
  - Original photo preservation
- Privacy-focused (on-device processing preferred)

## Intelligent Features

### ML-Based Pattern Recognition
- **Topic extraction**: Identify recurring themes in entries
- **Sentiment analysis**: Track emotional patterns over time
- **Key phrase detection**: Highlight important patterns
- **Correlation discovery**: Link journal content to sleep quality
- **Trigger identification**: Find factors affecting sleep

### Personalized Guidance
- **Adaptive prompts**: Questions based on user's patterns
- **Insight generation**: Automated observations about trends
- **Suggestion engine**: Personalized recommendations
- **Goal tracking**: Monitor progress toward stated objectives
- **Warning signals**: Early detection of concerning patterns

## Prompt Library

### Sleep-Focused Prompts
- "What helped or hindered my sleep preparation today?"
- "How did I feel upon waking this morning?"
- "What's on my mind that might keep me awake tonight?"
- "What can I let go of before bed?"

### Well-Being Prompts
- "What am I grateful for today?"
- "What energized me? What drained me?"
- "How did I handle stress today?"
- "What would make tomorrow better?"

### Goal-Oriented Prompts
- "Did I follow through on my sleep intentions today?"
- "What habit am I working to establish?"
- "What small win can I celebrate?"
- "What lesson did today teach me?"

### Processing Prompts
- "What's bothering me? How can I address it?"
- "What went well today? What could improve?"
- "What do I need to remember?"
- "What am I curious about?"

## Visual Interface
- **Calendar view**: Visual representation of journal consistency
- **Entry browser**: Easy navigation through past entries
- **Search functionality**: Find entries by keyword, date, mood, tags
- **Pattern visualization**: Graphs showing themes and sentiment over time
- **Insight dashboard**: ML-generated observations and correlations
- **Timeline view**: Chronological entry flow

## Notifications
- **Writing reminders**: Scheduled prompts to journal
- **Prompt delivery**: New suggested questions
- **Streak maintenance**: Consistency motivation
- **Insight alerts**: New patterns or correlations discovered
- **Module-level override**: Independent notification control

## Integration with Sleep Data
- **Automatic correlation**: Journal content linked to sleep metrics
- **Pre-sleep entries**: Analyzed for impact on sleep onset
- **Morning entries**: Compared with previous night's sleep quality
- **Pattern detection**: Identifies journal-sleep relationships
- **Predictive insights**: Anticipate sleep issues based on entry content

## Privacy & Security
- **End-to-end encryption**: Journal entries fully encrypted
- **Local storage option**: Keep data on device only
- **Password protection**: Additional security layer
- **Export capability**: User owns and controls their data
- **Anonymous ML processing**: Pattern analysis without exposing content
- **No sharing by default**: Private unless user chooses to share

## Activity Tracking
- Log entry creation and timing
- Track entry length and method
- Monitor journaling consistency
- Record mood and energy levels alongside entries
- Measure time spent journaling
- View streaks and milestones

## Educational Component
- Explains benefits of journaling for sleep and mental health
- Teaches effective journaling techniques
- Provides prompts for difficult-to-express thoughts
- Shows research on expressive writing
- Displays personalized effectiveness data

## Use Cases
1. **Bedtime Brain Dump**: Evening worry processing before sleep
2. **Gratitude Practice**: Daily appreciation for better mood and sleep
3. **Pattern Detective**: Tracking factors that affect sleep quality
4. **Goal Tracker**: Monitoring sleep habit changes
5. **Stress Processor**: Working through anxious thoughts
6. **Creative Expression**: Free writing for mental clarity
7. **Therapy Complement**: Structured reflection between sessions

## Benefits for Sleep
- Reduces bedtime rumination and racing thoughts
- Processes worries and concerns before sleep
- Externalizes intrusive thoughts
- Provides closure to the day
- Enhances self-awareness of sleep patterns
- Supports behavioral change tracking

## Psychological Mechanisms
- **Cognitive offloading**: Moving thoughts from mind to paper
- **Emotional processing**: Working through feelings safely
- **Pattern recognition**: Conscious awareness of habits
- **Goal commitment**: Writing increases follow-through
- **Worry reduction**: Scheduled worry time prevents bedtime anxiety
- **Meaning-making**: Finding connections and insights

## Entry Processing Pipeline
1. **Creation**: User writes or inputs entry
2. **OCR (if photo)**: Convert handwriting to text
3. **Storage**: Encrypted save to database
4. **Analysis**: ML pattern extraction (privacy-preserved)
5. **Correlation**: Link with sleep and other module data
6. **Insight Generation**: Identify meaningful patterns
7. **Feedback**: Present insights to user

## Future Enhancements
- **Advanced NLP**: More sophisticated language understanding
- **Mood prediction**: Anticipate emotional states
- **Personalized interventions**: Targeted suggestions based on content
- **Therapist sharing**: Secure sharing with healthcare providers
- **Voice analysis**: Emotional state from speech patterns
- **Photo journaling**: Visual diary integration
- **Drawing/sketching**: Non-verbal expression option
- **Collaborative journaling**: Shared entries with partner/family
- **Research contribution**: Anonymized data for sleep research (opt-in)
